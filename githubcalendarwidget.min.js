const y={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};const i=600;const l={t:"#00ff00",backgroundColor:"#212121"};let c=null;function $(t){if(t>=1){return"FF"}if(t<0){throw new Error("Input must be in the range of 0.00 to 1.00")}const e=Math.round(t*255);const n=e.toString(16).padStart(2,"0").toUpperCase();return n}function a(s,t,d){const e=new Date;e.setDate(e.getDate()-365);const n=e.getMonth();const o=document.getElementById("calendar-component");const c=document.createElement("h1");c.textContent="GitHub Activity Calendar";o.append(c);const a=document.createElement("div");a.className="months";for(let t=0;t<13;t++){const g=document.createElement("div");g.className="month";const w=t+n>11?t+n-12:t+n;g.textContent=`${y[w]}`;a.append(g)}const r=document.createElement("div");r.className="calendar-wrapper";const i=document.createElement("aside");i.id="weekdays-name-container";const l=["Sat","Sun","Mon","Tue","Wed","Thu","Fri"];for(let t of l){const b=document.createElement("div");b.className="weekday-name";b.textContent=t;i.append(b)}const p=document.createElement("div");p.id="calendar";p.innerHTML="";function f(t,e,n){const o=document.createElement("div");o.classList.add("day");const c=new Date;c.setDate(c.getDate()-365+(e+n*7));const a=c.toISOString().split("T")[0];const r=s.find(t=>t.o===a);if(r&&r.i>0){const l=r.i/10;o.setAttribute("style",`background-color:${d["t"]+$(l)};
			align-content: baseline;`)}o.setAttribute("date",c.toLocaleDateString("en-US",{month:"short",day:"2-digit"}));if(r){o.setAttribute("contributions",r.i);if(r.i>=10){o.textContent="*"}}const i=new Date;if(c>i){o.style.backgroundColor="transparent";o.style.border="0px"}t.appendChild(o)}function u(){o.append(a);r.append(i);r.append(p);o.append(r);for(let e=0;e<7;e++){for(let t=0;t<53;t++){f(p,e,t)}}}function m(){o.append(i);r.append(a);r.append(p);o.append(r);for(let e=0;e<53;e++){for(let t=0;t<7;t++){f(p,t,e)}}}if(t){u()}else{m()}const h=`
  #calendar {
    display: grid;
    /* 53 columns for each week in a year */
    grid-template-columns: ${t?`repeat(53, 16px)`:`repeat(7, 32px)`};
    /* 7 rows for each day of the week */
    grid-template-rows: ${t?`repeat(7, 16px)`:`repeat(53, 32px)`};
    gap: ${t?`2px`:`6px 8px`};
  }
  
  .day {
    width: ${t?`16px`:`32px`};
    height: ${t?`16px`:`32px`};
    border: 1px solid ${d["t"]+"80"};
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
	background-color: rgba(0,0,0,0.7);
	color: black;
	font-weight: bold;
	${!t?`font-size: 24px;`:""}
  }
  .day:hover::after {
    content: attr(contributions) " contributions on " attr(date);
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translate(-50%, -60px);
    background-color: ${d["backgroundColor"]};
    border: 1px solid #ccc;
    padding: 5px;
    border-radius: 5px;
    white-space: nowrap;
    color: ${d["t"]};
	font-weight: normal;
	font-size: 16px;
    z-index: 5;
	clip-path: polygon(0% 0%, 100% 0%, 100% 65%, 50% 100%, 0% 65%);
  	height: 32px;
	border: 2px solid ${d["t"]};
  }
  .calendar-wrapper {
    display: flex;
    flex-direction: row;
    justify-content: ${t?`center`:`left`};
  }
  #weekdays-name-container {
	${!t?`display: flex;justify-content:left;flex-direction: row;margin-left: 64px;`:``}
    text-align: ${t?`right`:`left`};
	${t?`width: 32px;`:``}
  }
  #weekdays-name-container .weekday-name {
    width: ${t?`16px`:"40px"};
    height: 16px;
	margin-bottom: 2px;
  	line-height: 16px;
  }
  .months {
    display: flex;
    flex-direction: ${t?"row":"column"};
    justify-content: space-between;
    margin-left: ${t?`32px`:`24px`};
  }
  .month {
	text-align: left;
	${!t?`width: 40px;`:``}
  }
  #calendar-component{
	background-color: ${d["backgroundColor"]};
	color: ${d["t"]};
    font-size: 16px;
	width: fit-content;
  }
  #calendar-component * {
	box-sizing: border-box;
	font-family: "Roboto Mono", monospace;
  }
  #calendar-component > h1{
    margin-bottom: 0.5rem;
    text-align: ${t?`center`:`left`};
	${!t?`font-size: 1.7rem;`:``}
  }
  `;const x=document.createElement("style");x.textContent=h;document.head.appendChild(x)}async function r(t){const e=await fetch(`https://nulljuju.dev/github_calendar/${t}`,{method:"GET",mode:"cors",cache:"no-cache",headers:{l:"application/json"}});const n=await e.json();if(n&&e.status===200){return n}else{console.error("Error in fetching GitHub data from server")}}async function s(t,e,n){try{c=await r(t);if(!c||c.length===0){console.error("No contribution data available.");return}a(c,e,n)}catch(o){console.error("Error fetching contribution data:",o)}}function t(){let t=document.getElementById("calendar-component")===null?false:true;while(!t){setTimeout(()=>{t=document.getElementById("calendar-component")===null?false:true;console.log("Waiting for all HTML load...")},500)}const e=document.getElementById("calendar-component");if(e){const n=window.innerWidth;const o=n>i?true:false;const c=e.getAttribute("username");const a=e.getAttribute("theme-color");const r=e.getAttribute("background-color");if(a){l["t"]=a}if(r){l["backgroundColor"]=r}if(c.length>0){console.log("Generating the GitHub Calendar ...");s(c,o,l)}else{console.error("Username was not provided!\n",`username fetched:${c}\n`)}}}t();